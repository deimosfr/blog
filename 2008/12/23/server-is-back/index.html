<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.68.3 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Pierre Mavro / Deimosfr">
<meta name="keywords" content="">
<meta name="description" content="Et bien me voilà de retour. Bon tout est loin d’être terminé, mais je sais où je vais maintenant. Voici donc ce qui a été fait :
  Le serveur tourne maintenant sous Solaris en ZFS sur le disque primaire
  Sur les 4 autres disques de 1To, il y a un Raidz (ça trace sa maman)
  OpenBSD sous VirtualBox comme frontal a été abandonné. Pourquoi ?">


<meta property="og:description" content="Et bien me voilà de retour. Bon tout est loin d’être terminé, mais je sais où je vais maintenant. Voici donc ce qui a été fait :
  Le serveur tourne maintenant sous Solaris en ZFS sur le disque primaire
  Sur les 4 autres disques de 1To, il y a un Raidz (ça trace sa maman)
  OpenBSD sous VirtualBox comme frontal a été abandonné. Pourquoi ?">
<meta property="og:type" content="article">
<meta property="og:title" content="Server is back !">
<meta name="twitter:title" content="Server is back !">
<meta property="og:url" content="https://blog.deimos.fr/2008/12/23/server-is-back/">
<meta property="twitter:url" content="https://blog.deimos.fr/2008/12/23/server-is-back/">
<meta property="og:site_name" content="Deimosfr Blog">
<meta property="og:description" content="Et bien me voilà de retour. Bon tout est loin d’être terminé, mais je sais où je vais maintenant. Voici donc ce qui a été fait :
  Le serveur tourne maintenant sous Solaris en ZFS sur le disque primaire
  Sur les 4 autres disques de 1To, il y a un Raidz (ça trace sa maman)
  OpenBSD sous VirtualBox comme frontal a été abandonné. Pourquoi ?">
<meta name="twitter:description" content="Et bien me voilà de retour. Bon tout est loin d’être terminé, mais je sais où je vais maintenant. Voici donc ce qui a été fait :
  Le serveur tourne maintenant sous Solaris en ZFS sur le disque primaire
  Sur les 4 autres disques de 1To, il y a un Raidz (ça trace sa maman)
  OpenBSD sous VirtualBox comme frontal a été abandonné. Pourquoi ?">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2008-12-23T14:24:15">
  
  
    <meta property="article:modified_time" content="2008-12-23T14:24:15">
  
  
  
    
      <meta property="article:section" content="Linux">
    
  
  
    
      <meta property="article:tag" content="Linux">
    
  


<meta name="twitter:card" content="summary">

  <meta name="twitter:site" content="@deimosfr">


  <meta name="twitter:creator" content="@deimosfr">










  <meta property="og:image" content="https://www.gravatar.com/avatar/194382a6478d109ac45c9b11bad1945e?s=640">
  <meta property="twitter:image" content="https://www.gravatar.com/avatar/194382a6478d109ac45c9b11bad1945e?s=640">


    <title>Server is back !</title>

    <link rel="icon" href="https://blog.deimos.fr/favicon.png">
    

    

    <link rel="canonical" href="https://blog.deimos.fr/2008/12/23/server-is-back/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://blog.deimos.fr/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    
      
        <link rel="stylesheet"  href="https://blog.deimos.fr/css/custom.css">
      
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-63927289-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://blog.deimos.fr/">Deimosfr Blog</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://blog.deimos.fr/#about">
    
    
    
      
        <img class="header-picture" src="https://www.gravatar.com/avatar/194382a6478d109ac45c9b11bad1945e?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://blog.deimos.fr/#about">
          <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/194382a6478d109ac45c9b11bad1945e?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Pierre Mavro / Deimosfr</h4>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://blog.deimos.fr/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://blog.deimos.fr/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://blog.deimos.fr/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://blog.deimos.fr/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://blog.deimos.fr/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.deimos.fr" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-user"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://wiki.deimos.fr" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-wikipedia-w"></i>
      
      <span class="sidebar-button-desc">Wiki</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="5"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Server is back !
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2008-12-23T14:24:15Z">
        
  
  
  
  
    23 December 2008
  

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://blog.deimos.fr/categories/linux">Linux</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>Et bien me voilà de retour. Bon tout est loin d’être terminé, mais je sais où je vais maintenant. Voici donc ce qui a été fait :</p>
<ul>
<li>
<p>Le serveur tourne maintenant sous Solaris en ZFS sur le disque primaire</p>
</li>
<li>
<p>Sur les 4 autres disques de 1To, il y a un Raidz (ça trace sa maman)</p>
</li>
<li>
<p>OpenBSD sous VirtualBox comme frontal a été abandonné. Pourquoi ? Bein, c&rsquo;est soit disant supporté, mais je me tapes tout le temps des <strong>Segmentation Fault</strong>. Donc là forcément ca bloque, impossible de faire des compilation sans ces putains d&rsquo;erreurs.</p>
</li>
</ul>
<p>&ldquo;j&rsquo;ai donc pris la décision, et m&rsquo;y engage personnellement&rdquo; (dixit Sarko) à mettre en place une boiboite avec OpenBSD. Mais comment tu vas faire Pierre ? Mais comment ? Et là youpi tralala, voilà jumping from my hat la <a href="http://www.soekris.com/">Soekris</a>. Pour ceux qui ne connaissent pas, c&rsquo;est tout simplement une archi i386 de 500Mhz (tout du moins la Soekris que j&rsquo;ai prise) avec 512Mo de Ram, j&rsquo;ai pris en + une carte PCI avec 4 emplacements ethernet supplémentaire, ainsi qu&rsquo;une carte CompactFlash de 16Go pour mettre l&rsquo;OS dessus (et oué, ca risque de booter en * de 5 sec). Je vous tiendrais au courant quand je recevrais la bête !</p>
<ul>
<li>J&rsquo;ai finalement décider de passer sur Ubuntu Server. J&rsquo;ai donc une VM pour toute ma partie multimédia (MediaTomb pour la PS3 etc&hellip;) et une VM de DMZ avec le serveur de mail et web. Tout n&rsquo;est pas encore terminé, j&rsquo;essaye de refaire toutes mes confs pour les paufiner et les optimiser plus.</li>
</ul>
<p>Là j&rsquo;avoue que j&rsquo;en ai un peu marre donc je vais calmer le jeu. Si il y a des choses qui ne fonctionnent pas encore, ne vous inquiétez pas, c&rsquo;est normal.</p>
<p>Sinon pour toutes les tuiles sur lesquelles je suis tomber, voici les solutions :</p>
<ul>
<li>
<p><a href="http://wiki.deimos.fr/Faire_reconnaitre_des_cartes_r%C3%A9seaux_non_support%C3%A9es_par_Solaris">J&rsquo;ai donc eu un problème de cartes réseaux qui ne voulaient pas être reconnu de base</a></p>
</li>
<li>
<p><a href="http://wiki.deimos.fr/ZFS_:_Le_FileSystem_par_excellence">J&rsquo;ai eu besoin de plusieurs options pour le ZFS (raidz, partage NFS etc&hellip;)</a></p>
</li>
<li>
<p><a href="http://wiki.deimos.fr/NFS_:_Mise_en_place_d%27un_serveur_NFS#Solaris">Activer le NFS sur Solaris</a></p>
</li>
<li>
<p><a href="http://wiki.deimos.fr/VirtualBox_:_Alternative_%C3%A0_Vmware#FAQ">Tous les problèmes de merde lié à VirtualBox</a></p>
</li>
<li>
<p><a href="http://wiki.deimos.fr/Configurer_le_r%C3%A9seau_sur_Solaris">Un petit point que j&rsquo;avais oublier dans ma doc de la config réseau Solaris. En effet, il ne faut pas oublier nsswitch.conf et une petite astuce pour la détection des cartes réseaux souvent un peu pénible.</a></p>
</li>
</ul>
<p>Enfin voilà. Je ne regrettes pas d&rsquo;avoir fais cette migration. Je suis un peu déçu par VirtualBox :</p>
<ul>
<li>
<p>Pas de Full Virtualisation à + d&rsquo;un guest (donc pas plusieurs guest 64 bits)</p>
</li>
<li>
<p>Bugs à gogo, c&rsquo;est bien pour une machine de bureau pour faire des tests, mais pas trop pour un serveur (tout dépends de ce que l&rsquo;on fait avec hein).</p>
</li>
</ul>
<p>J&rsquo;attends donc avec impatience xVM Server, en espérant qu&rsquo;ils nous fassent pas le coup de &ldquo;On vous a bien fait attendre et c&rsquo;est payant&rdquo; parceque je serais vraiment véner.</p>
<p>Voilà, bon, j&rsquo;vais me faire un petit Moto GP</p>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://blog.deimos.fr/tags/linux/">Linux</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://blog.deimos.fr/2008/12/24/55/" data-tooltip="Vas y Franky c’est bon…">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://blog.deimos.fr/2008/12/19/demain-grosse-coupure/" data-tooltip="Demain grosse coupure !">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.deimos.fr/2008/12/23/server-is-back/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://blog.deimos.fr/2008/12/23/server-is-back/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 Pierre Mavro / Deimosfr. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://blog.deimos.fr/2008/12/24/55/" data-tooltip="Vas y Franky c’est bon…">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://blog.deimos.fr/2008/12/19/demain-grosse-coupure/" data-tooltip="Demain grosse coupure !">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.deimos.fr/2008/12/23/server-is-back/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://blog.deimos.fr/2008/12/23/server-is-back/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fblog.deimos.fr%2F2008%2F12%2F23%2Fserver-is-back%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fblog.deimos.fr%2F2008%2F12%2F23%2Fserver-is-back%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.gravatar.com/avatar/194382a6478d109ac45c9b11bad1945e?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Pierre Mavro / Deimosfr</h4>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Qovery Co-Founder and CTO
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Paris - France
      </div>
    
  </div>
</div>

    

    
  
    
      
      <div id="cover" style="background-image:url('https://blog.deimos.fr/images/fish_background.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://blog.deimos.fr/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


  
    <script src="https://blog.deimos.fr/js/custom.js"></script>
  

<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/blog.deimos.fr\/2008\/12\/23\/server-is-back\/';
          
            this.page.identifier = '\/2008\/12\/23\/server-is-back\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'blog-deimosfr';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>

